<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Bitácora de Obra</title>
    <link rel="stylesheet" href="../static/layout.css">


</head>
<body>
  <h2>Formulario de Bitácora de Obra</h2>
  <form action="/submit" method="post">

    <label for="clave_obra">Clave de la obra:</label><br>
    <input type="text" id="clave_obra" name="clave_obra" required><br><br>

    <label for="nombre_obra">Nombre de la obra o proyecto:</label><br>
    <input type="text" id="nombre_obra" name="nombre_obra" required><br><br>

    <label for="direccion_predio">Dirección exacta del predio:</label><br>
    <input type="text" id="direccion_predio" name="direccion_predio" required><br><br>

    <label for="tipo_obra">Tipo de obra:</label><br>
    <select name="tipo_obra" id="tipo_obra" required onchange="mostrarCampoAdicional()">
      <option value="">-- Selecciona una opción --</option>
      <option value="residencial">Residencial</option>
      <option value="comercial">Comercial</option>
      <option value="remodelacion">Remodelación</option>
    </select><br><br>

    <div id="campo_remodelacion" style="display: none;">
      <label for="descripcion_cambios">Descripción de los cambios (remodelación):</label><br>
      <textarea id="descripcion_cambios" name="descripcion_cambios" rows="3"></textarea><br><br>
    </div>

    <label for="numero_licencia">Número de licencia o permiso de construcción:</label><br>
    <input type="text" id="numero_licencia" name="numero_licencia" required><br><br>

    <label for="datos_propietario">Nombre y datos del propietario:</label><br>
    <textarea id="datos_propietario" name="datos_propietario" rows="2" required></textarea><br><br>

    <label for="datos_dro">Nombre y datos del Director Responsable de Obra (DRO):</label><br>
    <textarea id="datos_dro" name="datos_dro" rows="2" required></textarea><br><br>

    <label for="fecha_inicio">Fecha de inicio de obra:</label><br>
    <input type="date" id="fecha_inicio" name="fecha_inicio" required><br><br>

    <label for="fecha_fin">Fecha estimada de término:</label><br>
    <input type="date" id="fecha_fin" name="fecha_fin" required><br><br>

    <label for="numero_contrato">Número de contrato (si aplica):</label><br>
    <input type="text" id="numero_contrato" name="numero_contrato"><br><br>

    <button type="submit">Enviar</button>
  </form>

  <script>
    function mostrarCampoAdicional() {
      const tipoObra = document.getElementById("tipo_obra").value;
      const campoRemodelacion = document.getElementById("campo_remodelacion");
      const descripcion = document.getElementById("descripcion_cambios");

      if (tipoObra === "remodelacion") {
        campoRemodelacion.style.display = "block";
        descripcion.setAttribute("required", "required");
      } else {
        campoRemodelacion.style.display = "none";
        descripcion.removeAttribute("required");
        descripcion.value = "";
      }
    }
  </script>
</body>
</html>